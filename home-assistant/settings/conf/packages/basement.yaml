---
apple_tv:
  - host: 172.16.10.64
    login_id: 00000000-1012-d722-4d49-70717fb642c1
    credentials: "242C1C557B5DD7F5:0018F0AA80A42DCA62364861F4ED6BCDB4F\
      D3E25683444DED1E26AB409A493D6"
    name: Basement Apple TV
    start_off: true

automation:
  - alias: "Notify on basement leak"
    trigger:
      platform: state
      entity_id: binary_sensor.basement_sensor_leak_detector
      to: "on"
      for:
        minutes: 1
    action:
      - service: notify.slack
        data:
          message: ðŸ’¦ Leak detected in the basement!
      - service: notify.mobile_app_brittany_bachs_iphone
        data:
          message: ðŸ’¦ Leak detected in the basement!
          title: Leak

remote:
  - platform: harmony
    name: Basement TV
    host: harmony-hub-2.phil.iot
    activity: 37549209

shell_command:
  turn_off_media_center: >
    ssh -i /config/id_ed25519 -o StrictHostKeyChecking=no
    hass@media-center.phil.lan sudo /sbin/poweroff

switch:
  - platform: wake_on_lan
    mac: 4C:CC:6A:69:90:D4
    name: Media Center
    host: media-center.phil.lan
    turn_off:
      service: shell_command.turn_off_media_center
