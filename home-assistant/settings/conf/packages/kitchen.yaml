---
automation:
  - alias: "Notify on kitchen sink leak"
    trigger:
      platform: state
      entity_id: binary_sensor.kitchen_sink_sensor_water_leak
      to: "on"
      for:
        minutes: 1
    action:
      - service: notify.slack
        data:
          message: ðŸ’¦ Leak detected under the kitchen sink!
      - service: notify.mobile_app_brittany_bachs_iphone
        data:
          message: ðŸ’¦ Leak detected under the kitchen sink!
          title: Leak

  - alias: "Turn bar cart lights on"
    trigger:
      - platform: state
        entity_id: sensor.proximity_zone
        to: Home
      - platform: sun
        event: sunset
    condition:
      condition: state
      entity_id: sun.sun
      state: below_horizon
    action:
      service: switch.turn_on
      data:
        entity_id: switch.bar_cart

sensor:
  - platform: template
    sensors:
      garage_fire_door_lock_battery:
        friendly_name: Garage Fire Door Lock
        value_template: >
          {{ state_attr("zwave.garage_door", "battery_level") }}
        unit_of_measurement: "%"
        device_class: battery
