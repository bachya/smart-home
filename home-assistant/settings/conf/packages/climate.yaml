---
sensor:
  - platform: min_max
    name: "Average Indoor Temperature"
    type: "mean"
    round_digits: 1
    entity_ids:
      - sensor.basement_temperature
      - sensor.fiddle_leaf_fig_temperature
      - sensor.guest_bedroom_sensor_temperature
      - sensor.kitchen_sensor_temperature
      - sensor.master_bathroom_temperature
      - sensor.side_yard_inside_temp
      - sensor.thermostat_thermostat_temperature
      - sensor.upstairs_hallway_sensor_temperature

  - platform: min_max
    name: "Average Indoor Humidity"
    type: "mean"
    round_digits: 1
    entity_ids:
      - sensor.master_bathroom_humidity
      - sensor.side_yard_humidity_in
      - sensor.thermostat_thermostat_humidity

  - platform: filter
    name: "Filtered Average Indoor Humidity"
    entity_id: sensor.average_indoor_humidity
    filters:
      - filter: lowpass
        time_constant: 10
        precision: 1

  - platform: filter
    name: "Filtered Average Indoor Temperature"
    entity_id: sensor.average_indoor_temperature
    filters:
      - filter: lowpass
        time_constant: 10
        precision: 1

switch:
  - platform: template
    switches:
      climate_away_mode:
        friendly_name: Climate Away Mode
        value_template: >
          {{ states.climate.thermostat.attributes.away_mode == 'on'}}
        icon_template: mdi:arrow-left-drop-circle
        turn_on:
          service: nest.set_mode
          data:
            home_mode: away
        turn_off:
          service: nest.set_mode
          data:
            home_mode: home
