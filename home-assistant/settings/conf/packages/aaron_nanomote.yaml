---
# Scene ID: the button that's being pressed
# Scene Data: 7680 for a short press, 7800 for a long press

automation:
  - alias: "Button 1 Long: 15-minute Sleep Timer on Master Bedroom Salt Lamp"
    trigger:
      platform: event
      event_type: zwave.scene_activated
      event_data:
        scene_id: 1
        scene_data: 7800
    action:
      - service: input_number.set_value
        data:
          entity_id: 15

  - alias: "Button 1 Short: Toggle Master Bedroom Salt Lamp"
    trigger:
      platform: event
      event_type: zwave.scene_activated
      event_data:
        scene_id: 1
        scene_data: 7680
    action:
      - service: switch.toggle
        data:
          entity_id: switch.master_bedroom_salt_lamp

  - alias: "Button 2 Short: Bump Climate 2Â°"
    trigger:
      platform: event
      event_type: zwave.scene_activated
      event_data:
        scene_id: 2
        scene_data: 7680
    condition:
      condition: not
      conditions:
        - condition: state
          entity_id: climate.thermostat
          state: "off"
    action:
      - service: climate.set_temperature
        data_template:
          entity_id: climate.thermostat
          temperature: >
            {%
              set cur = state_attr("climate.thermostat", "temperature") | int
            %}
            {% if states("climate.thermostat") == "cool" %}
              {{ cur - 2 }}
            {% elif states("climate.thermostat") == "heat" %}
              {{ cur + 2 }}
            {% endif %}

  - alias: 'Button 3 Short: Turn on "Good Night" scene'
    trigger:
      platform: event
      event_type: zwave.scene_activated
      event_data:
        scene_id: 3
        scene_data: 7680
    action:
      - service: scene.turn_on
        data:
          entity_id: scene.good_night

  - alias: "Button 4 Short: Turn Off Bathroom Fans"
    trigger:
      platform: event
      event_type: zwave.scene_activated
      event_data:
        scene_id: 3
        scene_data: 7680
    action:
      - service: homeassistant.turn_off
        data:
          entity_id: group.bathroom_fans
