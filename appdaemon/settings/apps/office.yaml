---
office_lights_sleep_timer_automation:
  module: switches
  class: SleepTimer
  dependencies:
    - presence_manager
  entity_ids:
    switch: switch.office_salt_lamp
    timer_slider: input_number.office_salt_lamp_timer

office_lights_off_at_10pm_automation:
  module: switches
  class: ToggleAtTime
  dependencies:
    - guest_mode
    - presence_manager
    - vacation_mode
  entity_ids:
    switch: switch.office_salt_lamp
  properties:
    schedule_time: "22:00:00"
    state: "off"
  state_changes:
    - disable:
        event: MODE_CHANGE
        event_data:
          name: guest_mode
          state: "on"
      enable:
        event: MODE_CHANGE
        event_data:
          name: guest_mode
          state: "off"
    - disable:
        event: MODE_CHANGE
        event_data:
          name: vacation_mode
          state: "on"
      enable:
        event: MODE_CHANGE
        event_data:
          name: vacation_mode
          state: "off"

office_lights_on_at_sunset_automation:
  module: switches
  class: ToggleOnState
  dependencies:
    - guest_mode
    - presence_manager
    - vacation_mode
  entity_ids:
    switch: switch.office_salt_lamp
    target: sun.sun
  properties:
    switch_state: "on"
    target_state: "below_horizon"
  state_changes:
    - disable:
        event: MODE_CHANGE
        event_data:
          name: guest_mode
          state: "on"
      enable:
        event: MODE_CHANGE
        event_data:
          name: guest_mode
          state: "off"
    - disable:
        event: MODE_CHANGE
        event_data:
          name: vacation_mode
          state: "on"
      enable:
        event: MODE_CHANGE
        event_data:
          name: vacation_mode
          state: "off"
