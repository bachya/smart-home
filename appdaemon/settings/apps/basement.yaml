---
basement_lights_vacation_mode_automation:
  module: switches
  class: VacationMode
  dependencies:
    - guest_mode
    - presence_manager
    - vacation_mode
  entity_ids:
    switch: switch.basement_lights
  properties:
    end_time: "23:30:00"
    start_time: "sunset"
  enabled_toggle_entity_id: input_boolean.vacation_mode_lighting
  state_changes:
    - disable:
        event: MODE_CHANGE
        event_data:
          name: vacation_mode
          state: "off"
      enable:
        event: MODE_CHANGE
        event_data:
          name: vacation_mode
          state: "on"
