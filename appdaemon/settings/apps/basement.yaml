---
basement_leak_detected_automation:
  module: systems
  class: LeftInState
  dependencies:
    - presence_manager
  entity_ids:
    entity_id: binary_sensor.basement_sensor_leak_detector
  properties:
    duration: 60
    notification_target:
      - "person:Aaron"
      - "person:Britt"
    state: "on"

basement_lights_vacation_mode_random_tick_automation:
  module: services
  class: ServiceOnRandomTick
  service: "switch/toggle"
  service_data:
    entity_id: switch.basement_lights
  enabled_toggle_entity_id: input_boolean.vacation_mode_lighting

basement_lights_vacation_mode_start_automation:
  module: services
  class: ServiceOnState
  service: "switch/turn_on"
  service_data:
    entity_id: switch.basement_lights
  entity_ids:
    target_entity_id: sun.sun
  properties:
    new_target_state: below_horizon
  enabled_toggle_entity_id: input_boolean.vacation_mode_lighting

basement_lights_vacation_mode_stop_automation:
  module: services
  class: ServiceOnState
  service: "switch/turn_off"
  service_data:
    entity_id: switch.basement_lights
  properties:
    schedule_time: "23:30:00"
  enabled_toggle_entity_id: input_boolean.vacation_mode_lighting
