---
notify_of_trash_pickup_automation:
  module: trash
  class: NotifyOfPickup
  dependencies:
    - presence_manager
    - trash_manager
    - vacation_mode
  state_changes:
    - disable:
        event: MODE_CHANGE
        event_data:
          name: blackout_mode
          state: "on"
      enable:
        event: MODE_CHANGE
        event_data:
          name: blackout_mode
          state: "off"
    - disable:
        event: MODE_CHANGE
        event_data:
          name: vacation_mode
          state: "on"
      enable:
        event: MODE_CHANGE
        event_data:
          name: vacation_mode
          state: "off"
    - disable:
        event: PROXIMITY_CHANGE
        event_data:
          old: home
      enable:
        event: PROXIMITY_CHANGE
        event_data:
          new: home

trash_manager:
  module: trash
  class: TrashManager
  entity_ids:
    next_pickup_sensor: sensor.recollect_waste
    trash_type_sensors:
      compost: binary_sensor.recollect_next_pickup_includes_compost
      extra_trash: binary_sensor.recollect_next_pickup_includes_extra_trash
      recycling: binary_sensor.recollect_next_pickup_includes_recycling
      trash: binary_sensor.recollect_next_pickup_includes_trash
