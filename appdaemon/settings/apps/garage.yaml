---
garage_lights_off_after_garage_close_automation:
  module: services
  class: ServiceOnState
  service: "switch/turn_off"
  service_data:
    entity_id: switch.garage_lights
  entity_ids:
    target_entity_id: cover.garage_door
  properties:
    delay: 600
    target_state: closed

garage_lights_on_garage_open_sundown_automation:
  module: services
  class: ServiceOnState
  service: "switch/turn_on"
  service_data:
    entity_id: switch.garage_lights
  entity_ids:
    target_entity_id: cover.garage_door
  properties:
    opposite: true
    target_state: closed
  constraints:
    constraints:
      constrain_sun: "down"
