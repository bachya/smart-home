---
garage_lights_off_after_garage_close_automation:
  module: switches
  class: ToggleOnState
  dependencies:
    - presence_manager
  entity_ids:
    switch: switch.garage_lights
    target: cover.garage_door
  properties:
    delay: 600
    switch_state: "off"
    target_state: "closed"

garage_lights_on_garage_open_sundown_automation:
  module: switches
  class: ToggleOnState
  dependencies:
    - presence_manager
  entity_ids:
    switch: switch.garage_lights
    target: cover.garage_door
  properties:
    switch_state: "on"
    target_state: "open"
  constraints:
    constraints:
      constrain_sun: "down"

garage_lights_on_upon_arrival_automation:
  module: switches
  class: ToggleUponArrival
  dependencies:
    - presence_manager
  entity_ids:
    switch: switch.garage_lights
  properties:
    state: "on"
    trigger_on_first_only: false
  constraints:
    constraints:
      constrain_dark_outside: true
      constrain_sun: "down"
