---
garage_lights_off_after_garage_close_automation:
  module: switches
  class: ToggleOnState
  dependencies:
    - presence_manager
  entity_ids:
    switch: switch.garage_lights
    target: cover.garage_door
  properties:
    delay: 600
    state: "off"
    target_state: "closed"

garage_lights_on_garage_open_sundown_automation:
  module: switches
  class: ToggleOnState
  dependencies:
    - presence_manager
  entity_ids:
    switch: switch.garage_lights
    target: cover.garage_door
  properties:
    state: "on"
    target_state: "closed"
    opposite: true
  constraints:
    constraints:
      constrain_sun: "down"
